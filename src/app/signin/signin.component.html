<div *ngIf="isLoggedIn; else loggedOut">
    Logged in as {{roles}}.
  </div>
   
  <ng-template #loggedOut>
    <div class = "row" style="margin-top: 15px;">
      <div class="col-md-4">
        <form name="form" (ngSubmit)="f.form.valid && onSubmit()" #f="ngForm" novalidate>
          <h2>Авторизация пользователя</h2>
          <hr />
          <div class="form-group">
            <label for="username" class="form-label">Логин</label>
            <input type="text" class="form-control" name="username" [(ngModel)]="form.username" #username="ngModel" required minlength="4"/>
            <div *ngIf="f.submitted && username.invalid">
              <span *ngIf="username?.errors?.['required']"class="text-danger">Необходимо ввести логин</span>
              <span *ngIf="username?.errors?.['minlength']" class="text-danger">Логин состоит не менее чем из 4 символов</span>
            </div>
          </div>
          <div class="form-group" style="margin-top:10px;">
            <label for="password" class="form-label">Пароль</label>
            <input type="password" class="form-control" name="password" [(ngModel)]="form.password" #password="ngModel" required minlength="8" />
            <div *ngIf="f.submitted && password.invalid">
              <span *ngIf="password?.errors?.['required']" class="text-danger">Необходимо ввести пароль</span>
              <span *ngIf="password?.errors?.['minlength']" class="text-danger">Пароль состоит не менее чем из 8 символов</span>
            </div>
          </div>
          <div class="form-group" style="margin-top:10px;">
            <button class="btn btn-primary w-100" style="height:50px;">Авторизоваться</button>
            <div *ngIf="f.submitted && isLoginFailed" class="text-danger" style="margin-top:10px;">Ошибка авторизации: {{errorMessage}}
            </div>
          </div>
        </form>
        <hr />
        <p>У Вас нет аккаунта?</p>
        <a href="auth/signup" class="btn btn-success">Зарегистрироваться</a>
      </div>
    </div>
  </ng-template>


