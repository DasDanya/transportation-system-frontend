<div *ngIf="isSignedUp; else signupForm">
    Your registration is successful. Please login!
</div>
  
  <ng-template #signupForm>
    <div class="row" style="margin-top: 15px;">
      <div class="col-md-4">
        <form name="form" (ngSubmit)="f.form.valid && onSubmit()" #f="ngForm" novalidate>
          <h2>Регистрация пользователя</h2>
          <hr />
          <div class="form-group">
            <label for="username" class="form-label">Логин</label>
            <input type="text" class="form-control" name="username" [(ngModel)]="form.username" #username="ngModel" required minlength="4" maxlength="30"/>
            <div *ngIf="f.submitted && username.invalid">
              <span *ngIf="username?.errors?.['required']" class="text-danger">Необходимо ввести логин</span>
              <span *ngIf="username?.errors?.['minlength']" class="text-danger">Логин должен состоять не менее чем из 4 символов</span>
            </div>
          </div>
          <div class="form-group" style="margin-top:10px;">
            <label for="email" class="form-label">Электронная почта</label>
            <input type="text" class="form-control" name="email" [(ngModel)]="form.email" #email="ngModel" required email />
            <div *ngIf="f.submitted && email.invalid">
              <span *ngIf="email?.errors?.['required']" class="text-danger">Необходимо ввести электронную почту</span>
              <span *ngIf="email?.errors?.['email']" class="text-danger">Электронная почта должна быть действительной</span>
            </div>
          </div>
          <div class="form-group" style="margin-top:10px;">
            <label for="password" class="form-label">Пароль</label>
            <input type="password" class="form-control" name="password" [(ngModel)]="form.password" #password="ngModel" required minlength="8" maxlength="50"/>
            <div *ngIf="f.submitted && password.invalid">
              <span *ngIf="password?.errors?.['required']" class="text-danger">Необходимо ввести пароль</span>
              <span *ngIf="password?.errors?.['minlength']" class="text-danger">Пароль должен состоять не менее чем из 8 символов</span>
            </div>
          </div>
          <div class="form-group" style="margin-top:10px;">
            <label for="confirmPassword" class="form-label">Подтверждение пароля</label>
            <input type="password" class="form-control" name="confirmPassword" [(ngModel)]="form.confirmPassword" #confirmPassword="ngModel" required minlength="8" maxlength="50" />
            <div *ngIf="f.submitted && confirmPassword.invalid">
              <span *ngIf="confirmPassword?.errors?.['required']" class="text-danger">Необходимо ввести пароль для подтверждения</span>
              <span *ngIf="confirmPassword?.errors?.['minlength']" class="text-danger">Пароль должен состоять не менее чем из 8 символов</span>
            </div>
          </div>
          <div class="form-group" style="margin-top: 10px;">
            <button class="btn btn-primary w-100" style="height:50px;">Зарегистрироваться</button>
            <div *ngIf="f.submitted && isSignUpFailed" class="text-danger" style="margin-top: 10px;">Ошибка регистрации: {{errorMessage}}
            </div>
          </div>
        </form>
      </div>
    </div>
  </ng-template>
